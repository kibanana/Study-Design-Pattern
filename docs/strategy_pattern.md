# Strategy Pattern

[μ¤νΈλν‹°μ§€ ν¨ν„΄(Strategy Pattern)](https://jdm.kr/blog/54)

[μ „λµ ν¨ν„΄(strategy pattern)](https://johngrib.github.io/wiki/strategy-pattern/)

[π™[λ””μμΈν¨ν„΄] μ „λµ ν¨ν„΄ ( Strategy Pattern )πµ](https://victorydntmd.tistory.com/292)

[λ””μμΈ ν¨ν„΄ : μ „λµν¨ν„΄μ΄λ€?](https://velog.io/@kyle/%EB%94%94%EC%9E%90%EC%9D%B8-%ED%8C%A8%ED%84%B4-%EC%A0%84%EB%9E%B5%ED%8C%A8%ED%84%B4%EC%9D%B4%EB%9E%80)

[[λ””μμΈ ν¨ν„΄] μ „λµ ν¨ν„΄(Strategy Pattern)](https://velog.io/@y_dragonrise/%EB%94%94%EC%9E%90%EC%9D%B8-%ED%8C%A8%ED%84%B4-%EC%A0%84%EB%9E%B5-%ED%8C%A8%ED%84%B4Strategy-Pattern)

[[λ””μμΈν¨ν„΄/Design Pattern] Strategy ν¨ν„΄ / μ „λµ ν¨ν„΄](https://lee1535.tistory.com/93)

[[Design Pattern] μ¤νΈλν‹°μ§€ ν¨ν„΄μ΄λ€](https://gmlwjd9405.github.io/2018/07/06/strategy-pattern.html)

μ „λµ ν¨ν„΄ λλ” μ¤νΈλν‹°μ§€ ν¨ν„΄(Strategy Pattern)

μ–΄λ–¤ κ²ƒμ„ μ μ—°ν•κ² ν‘ν„ν•λ” κ²ƒμ— μ΄μ μ„ λ§μ¶ λ””μμΈ ν¨ν„΄

μ „λµ ν¨ν„΄μ„ μ΄μ©ν•λ©΄ κ°‘μ‘μ¤λ° μ•κ³ λ¦¬μ¦ λ³€ν™”μ—λ„ μ μ—°ν•κ² λ€μ²ν•  μ μλ‹¤. μ•κ³ λ¦¬μ¦μ„ μΊ΅μν™”ν•κΈ° λ•λ¬Έμ΄λ‹¤. λ”°λΌμ„ μ•κ³ λ¦¬μ¦μ΄ λ³€κ²½λμ–΄λ„ ν”„λ΅μ„Έμ¤μ ν° ν‹€μ„ λ°”κΎΈμ§€ μ•κ³ λ„ μ μ—°ν• ν”„λ΅κ·Έλλ°μ„ ν•  μ μλ‹¤.

----

> λ™μΌ κ³„μ—΄μ μ•κ³ λ¦¬μ¦μ„ μ •μν•κ³  μƒνΈκµν™μ΄ κ°€λ¥ν•κ² ν•λ‹¤

μ „λµ ν¨ν„΄μ€ μ¤νΈλν‹°μ§€ ν¨ν„΄, μ •μ±… ν¨ν„΄(Policy)μ΄λΌκ³ λ„ λ¶λ¦°λ‹¤.

## μλ„

GoF μ±…μ—μ„λ” λ‹¤μκ³Ό κ°™μ΄ μ „λµ ν¨ν„΄μ μλ„λ¥Ό λ°νλ‹¤.

> λ™μΌ κ³„μ—΄μ μ•κ³ λ¦¬μ¦κµ°μ„ μ •μν•κ³ , κ° μ•κ³ λ¦¬μ¦μ„ μΊ΅μν™”ν•μ—¬ μ΄λ“¤μ μƒνΈκµν™μ΄ κ°€λ¥ν•λ„λ΅ λ§λ“­λ‹λ‹¤. μ•κ³ λ¦¬μ¦μ„ μ‚¬μ©ν•λ” ν΄λΌμ΄μ–ΈνΈμ™€ μƒκ΄€μ—†μ΄ λ…λ¦½μ μΌλ΅ μ•κ³ λ¦¬μ¦μ„ λ‹¤μ–‘ν•κ² λ³€κ²½ν•  μ μκ² ν•©λ‹λ‹¤.

---

- κ°μ²΄λ“¤μ΄ ν•  μ μλ” κ° ν–‰μ„μ— λ€ν•΄ μ „λµ ν΄λμ¤λ¥Ό μƒμ„±ν•κ³ , μ μ‚¬ν• ν–‰μ„λ“¤μ„ μΊ΅μν™”ν•λ” μΈν„°νμ΄μ¤λ¥Ό μ •μν•μ—¬ κ°μ²΄μ ν–‰μ„λ¥Ό λ™μ μΌλ΅ λ°”κΎΈκ³  μ‹¶μ€ κ²½μ° μ§μ ‘ ν–‰μ„λ¥Ό μμ •ν•μ§€ μ•κ³  μ „λµμ„ λ°”κΏ”μ£ΌκΈ°λ§ ν•¨μΌλ΅μ¨ ν–‰μ„λ¥Ό μ μ—°ν•κ² ν™•μ¥ν•λ” λ°©λ²•
- κ°„λ‹¨ν λ§ν•΄μ„, κ°μ²΄μ ν–‰μ„ κ°κ°μ„ μ „λµμΌλ΅ λ§λ“¤κ³  λ™μ μΌλ΅ ν–‰μ„μ μμ •μ΄ ν•„μ”ν• κ²½μ° μ „λµμ„ λ°”κΎΈλ” κ²ƒλ§μΌλ΅λ„ ν–‰μ„μ μμ •μ΄ κ°€λ¥ν•λ„λ΅ ν•¨

- μ „λµ ν¨ν„΄μ„ μ‚¬μ©ν•μ§€ μ•κ³  ν–‰μ„λ¥Ό λ³€κ²½ν–μ„ λ•μ λ¬Έμ μ 
    1. OCP μ„λ°°
    2. μ‹μ¤ν…μ΄ μ»¤μ Έμ„ ν™•μ¥λ  κ²½μ° λ©”μ„λ“μ μ¤‘λ³µ λ¬Έμ  λ°μƒ
    
---

> μ „λµ ν¨ν„΄(Strategy Pattern) λλ” μ •μ±… ν¨ν„΄(Policy Pattern)μ€ μ‹¤ν–‰ μ¤‘μ— μ•κ³ λ¦¬μ¦μ„ μ„ νƒν•  μ μλ” ν•λ” ν–‰μ„ μ†ν”„νΈμ›¨μ–΄ λ””μμΈ ν¨ν„΄μ΄λ‹¤. μ „λµ ν¨ν„΄μ€ νΉμ •ν• κ³„μ—΄μ μ•κ³ λ¦¬μ¦λ“¤μ„ μ •μν•κ³  κ° μ•κ³ λ¦¬μ¦μ„ μΊ΅μν™”ν•λ©° μ΄ μ•κ³ λ¦¬μ¦λ“¤μ„ ν•΄λ‹Ή κ³„μ—΄ μ•μ—μ„ μƒνΈκµμ²΄κ°€ κ°€λ¥ν•κ² λ§λ“ λ‹¤. μ „λµμ€ μ•κ³ λ¦¬μ¦μ„ μ‚¬μ©ν•λ” ν΄λΌμ΄μ–ΈνΈμ™€λ” λ…λ¦½μ μΌλ΅ λ‹¤μ–‘ν•κ² λ§λ“ λ‹¤. μ „λµμ€ μ μ—°ν•κ³  μ¬μ‚¬μ©κ°€λ¥ν• κ°μ²΄μ§€ν–¥ μ†ν”„νΈμ›¨μ–΄λ¥Ό μ–΄λ–»κ² μ„¤κ³„ν•λ”μ§€ κΈ°μ ν•κΈ° μ„ν•΄ λ””μμΈ ν¨ν„΄μ„ λ³΄κΈ‰μ‹ν‚¨ λ””μμΈ ν¨ν„΄(Gamma μ™Έ)μ΄λΌλ” μν–¥λ ¥ μλ” μ±…μ— ν¬ν•¨λ ν¨ν„΄λ“¤ κ°€μ΄λ° ν•λ‚μ΄λ‹¤.  - μ„ν‚¤ν”Όλ””μ•„

μ „λµν¨ν„΄μ΄λ€ νΉμ • μ»¨ν…μ¤νΈμ—μ„ μ•κ³ λ¦¬μ¦μ„ λ³„λ„λ΅ λ¶„λ¦¬ν•λ” μ„¤κ³„ λ°©λ²•μ„ μλ―Έν•λ‹¤.

---

- μ „λµμ„ μ‰½κ² λ°”κΏ€ μ μκ² ν•΄μ£Όλ” ν¨ν„΄
- κ°™μ€ λ¬Έμ λ¥Ό ν•΄κ²°ν•λ” μ—¬λ¬ μ•κ³ λ¦¬μ¦μ΄ ν΄λμ¤ λ³„λ΅ μΊ΅μν™”λμ–΄ μκ³  μ΄λ“¤μ΄ ν•„μ”ν•  λ• κµμ²΄ν•  μ μλ„λ΅ ν•¨μΌλ΅μ¨ λ™μΌν• λ¬Έμ λ¥Ό λ‹¤λ¥Έ μ•κ³ λ¦¬μ¦μΌλ΅ ν•΄κ²°ν•  μ μκ² ν•λ” ν¨ν„΄
- μ „λµ: μ–΄λ–¤ λ©μ μ„ λ‹¬μ„±ν•κΈ° μ„ν•΄ μΌμ„ μν–‰ν•λ” λ°©μ‹, λΉ„μ¦λ‹μ¤ κ·μΉ™, λ¬Έμ λ¥Ό ν•΄κ²°ν•λ” μ•κ³ λ¦¬μ¦
  - ex) κ²μ„ ν”„λ΅κ·Έλλ°μ—μ„ κ²μ„ μΊλ¦­ν„°κ°€ μ²ν• μƒν™©μ— λ”°λΌ κ³µκ²©μ΄λ‚ ν–‰λ™ν•λ” λ°©μ‹μ„ λ°”κΏ

---

- μ•κ³ λ¦¬μ¦κµ°μ„ μ •μν•κ³  κ°κ° μΊ΅μν™”ν•΄μ„ κµν™ν•λ©° μ‚¬μ©ν•  μ μλ„λ΅ λ§λ“λ” λ°©μ‹μ…λ‹λ‹¤. μ „λµ ν¨ν„΄μ„ ν™μ©ν•λ©΄ μ•κ³ λ¦¬μ¦μ„ μ‚¬μ©ν•λ” ν΄λΌμ΄μ–ΈνΈμ™€λ” λ…λ¦½μ μΌλ΅ μ•κ³ λ¦¬μ¦μ„ λ³€κ²½ν•  μ μμµλ‹λ‹¤. μ¦‰, μ•κ³ λ¦¬μ¦μ μΈν„°νμ΄μ¤(API) λ¶€λ¶„λ§ λ³€κ²½ν•΄μ„ μ‚¬μ©ν•  μ μλ„λ΅ ν•  μ μμµλ‹λ‹¤.
- λλ‹¤λ¥Ό μ‚¬μ©ν•λ©΄ μ„μ„μ΄λΌλ” λμ¨ν• μ—°κ²°μ„ μ‚¬μ©ν•κ³  μμΌλ―€λ΅ μ•κ³ λ¦¬μ¦μ„ μ©μ΄ν•κ² κµν™ν•  μ μμµλ‹λ‹¤.

---

## μ¥μ 

- μ»¨ν…μ¤νΈ μ½”λ“μ λ³€κ²½ μ—†μ΄ μƒλ΅μ΄ μ „λµμ„ μ¶”κ°€ν•  μ μλ‹¤.
    
    -> μ”κµ¬μ‚¬ν•­μ΄ λ³€κ²½λμ—μ„ λ•, κΈ°μ΅΄μ μ½”λ“λ¥Ό λ³€κ²½ν•μ§€ μ•μ•„λ„ λλ‹¤.

    -> μƒλ΅μ΄ μ „λµμ— λ€ν•΄μ„ μƒλ΅μ΄ ν΄λμ¤λ΅ κ΄€λ¦¬ν•κΈ° λ•λ¬Έμ— OCP μ›μΉ™μ„ μ¤€μν•  μ μλ‹¤.

## λ‹¨μ 

- μ»¨ν…μ¤νΈμ— μ μ©λλ” μ•κ³ λ¦¬μ¦μ΄ ν•λ‘κ°λ©΄ λ¶„κΈ°λ¥Ό νƒ€λ” κ²ƒμ΄ νΈν• κ²½μ°λ„ μλ‹¤. ν•μ§€λ§ μ”κµ¬μ‚¬ν•­μ΄ λ³€κ²½λ  μ—¬μ§€κ°€ μκ³  λ³€ν™”μ ν•νƒμ λ‹¤μ–‘ν•¨μ΄ μ–΄λμ •λ„ λ³΄μ¥λ  λ• μ „λµν¨ν„΄μ„ κ³ λ ¤ν•΄μ•Ό ν•λ‹¤.

- μ „λµν¨ν„΄μ€ μ¶”μƒν™” κΈ°λ²•μ΄κΈ° λ•λ¬Έμ— λ‹¨μν• κ²½μ°μ—λ„ μ „λµν¨ν„΄μ„ μ‚¬μ©ν•΄μ•Ό ν•λ” κ²½μ°λ„ μλ‹¤. μλ¥Ό λ“¤μ–΄ λλ¤ν• λ΅μ§μ„ ν…μ¤νΈν•κ±°λ‚ Mock κ°μ²΄λ¥Ό μƒμ„±ν•μ—¬ μ»¨νΈλ΅¤λ¬λ¥Ό ν…μ¤νΈν•λ” κ²½μ° λ“±μ΄λ‹¤.

## κµ¬μ΅°

![img.png](images/strategyPattern.png)

- `Strategy`

  μΈν„°νμ΄μ¤λ‚ μ¶”μƒ ν΄λμ¤λ΅ μ™Έλ¶€μ—μ„ λ™μΌν• λ°©μ‹μΌλ΅ μ•κ³ λ¦¬μ¦μ„ νΈμ¶ν•λ” λ°©λ²• λ…μ‹

  -> μ „λµμ„ μ΄μ©ν•κΈ° μ„ν• μΈν„°νμ΄μ¤(API)λ¥Ό κ²°μ •ν•¨

- `ConcreteStrategy`

  μ „λµ ν¨ν„΄μ—μ„ λ…μ‹ν• μ•κ³ λ¦¬μ¦μ„ μ‹¤μ λ΅ κµ¬ν„ν• ν΄λμ¤

  -> μ „λµμ„ μ‹¤μ λ΅ κµ¬ν„ν•λ” μ—­ν• 

- `Context`

  μ „λµ ν¨ν„΄μ„ μ΄μ©ν•λ” μ—­ν• μ„ μν–‰ν•λ©°, ν•„μ”μ— λ”°λΌ λ™μ μΌλ΅ κµ¬μ²΄μ μΈ μ „λµμ„ λ°”κΏ€ μ μλ„λ΅ setter λ©”μ„λ“ μ κ³µ

  -> μ „λµμ μΈν„°νμ΄μ¤(API)λ¥Ό νΈμ¶ν•΄μ„ μ΄μ©ν•λ” μ—­ν• 

## κ΄€λ ¨ ν¨ν„΄

- Flyweightν¨ν„΄
  
    ConcreteStrategy μ—­ν• μ€ ν•΄λ‹Ή ν¨ν„΄μ„ μ‚¬μ©ν•΄μ„ λ³µμμ μ¥μ†μ—μ„ κ³µμ  κ°€λ¥

- Abstract Factory ν¨ν„΄
    
    μ•κ³ λ¦¬μ¦λΏλ§ μ•„λ‹λΌ κ³µμ¥, λ¶€ν’, μ ν’μ„ λ¨λ‘ κµμ²΄ κ°€λ¥

- State ν¨ν„΄
  
    λΉ„μ·ν• λ°©μ‹μ΄μ§€λ§, μ•κ³ λ¦¬μ¦μ΄ μ•„λ‹ 'μƒνƒ' λ¥Ό λ³€ν™”ν•λ” λ°©μ‹μ„ μ„μ„

---

- ν–‰μ„λ¥Ό ν΄λμ¤λ΅ μΊ΅μν™”ν•΄ λ™μ μΌλ΅ ν–‰μ„λ¥Ό μμ λ΅­κ² λ°”κΏ€ μ μκ² ν•΄μ£Όλ” ν¨ν„΄
  - κ°™μ€ λ¬Έμ λ¥Ό ν•΄κ²°ν•λ” μ—¬λ¬ μ•κ³ λ¦¬μ¦μ΄ ν΄λμ¤ λ³„λ΅ μΊ΅μν™”λμ–΄ μκ³ , μ΄λ“¤μ΄ ν•„μ”ν•  λ• κµμ²΄ν•  μ μλ„λ΅ ν•¨μΌλ΅μ¨ λ™μΌν• λ¬Έμ λ¥Ό λ‹¤λ¥Έ μ•κ³ λ¦¬μ¦μΌλ΅ ν•΄κ²°ν•  μ μκ² ν•λ” λ””μμΈ ν¨ν„΄
  - ν–‰μ„ ν¨ν„΄(Behavioral) μ¤‘ ν•λ‚
- μ „λµμ„ μ‰½κ² λ°”κΏ€ μ μκ² ν•΄μ£Όλ” λ””μμΈ ν¨ν„΄
  
  μ „λµ: μ–΄λ–¤ λ©μ μ„ λ‹¬μ„±ν•κΈ° μ„ν•΄ μΌμ„ μν–‰ν•λ” λ°©μ‹, λΉ„μ¦λ‹μ¤ κ·μΉ™, λ¬Έμ λ¥Ό ν•΄κ²°ν•λ” μ•κ³ λ¦¬μ¦ λ“±

![img.png](images/strategyPattern1.png)

- μ—­ν• 
  - `Strategy`

    μΈν„°νμ΄μ¤λ‚ μ¶”μƒ ν΄λμ¤λ΅ μ™Έλ¶€μ—μ„ λ™μΌν• μ•κ³ λ¦¬μ¦μ„ νΈμ¶ν•λ” λ°©λ²• λ…μ‹    

  - `ConcreteStrategy`

    μ „λµ ν¨ν„΄μ—μ„ λ…μ‹ν• μ•κ³ λ¦¬μ¦μ„ μ‹¤μ λ΅ κµ¬ν„ν• ν΄λμ¤    

  - `Context`
  
    - μ „λµ ν¨ν„΄μ„ μ΄μ©ν•λ” μ—­ν• 
    - ν•„μ”μ— λ”°λΌ λ™μ μΌλ΅ κµ¬μ²΄μ μΈ μ „λµμ„ λ°”κΏ€ μ μλ„λ΅ setter λ©”μ„λ“(μ§‘μ•½ κ΄€κ³„)λ¥Ό μ κ³µν•¨
  
- ν–‰μ„(Behavioral) ν¨ν„΄
  - κ°μ²΄λ‚ ν΄λμ¤ μ‚¬μ΄μ μ•κ³ λ¦¬μ¦μ΄λ‚ μ±…μ„ λ¶„λ°°μ— κ΄€λ ¨λ ν¨ν„΄
  - ν• κ°μ²΄κ°€ νΌμ μν–‰ν•  μ μ—†λ” μ‘μ—…μ„ μ—¬λ¬ κ°μ κ°μ²΄λ΅ μ–΄λ–»κ² λ¶„λ°°ν•λ”μ§€, λ κ·Έλ ‡κ² ν•λ©΄μ„λ„ κ°μ²΄ μ‚¬μ΄μ κ²°ν•©λ„λ¥Ό μ–΄λ–»κ² μµμ†ν™”ν•λ”μ§€μ— μ¤‘μ μ„ λ‘ 
  
- μ§‘μ•½ κ΄€κ³„
  - μ°Έμ΅°κ°’μ„ μΈμλ΅ λ°›μ•„ ν•„λ“λ¥Ό μ„Έν…ν•λ” κ²½μ°
  - μ „μ²΄ κ°μ²΄μ λΌμ΄ν”„νƒ€μ„κ³Ό λ¶€λ¶„ κ°μ²΄μ λΌμ΄ν”„νƒ€μ„μ€ λ…λ¦½μ 
  - μ¦‰, μ „μ²΄ κ°μ²΄κ°€ λ©”λ¨λ¦¬μ—μ„ μ‚¬λΌμ§„λ‹¤ ν•΄λ„ λ¶€λ¶„ κ°μ²΄λ” μ‚¬λΌμ§€μ§€ μ•μ
  
## μμ‹ - λ΅λ΄‡ λ§λ“¤κΈ°

![img.png](images/strategyPattern2.png)

## λ¬Έμ 

![img_1.png](images/strategyPattern3.png)

## ν•΄κ²°μ±…

![img_2.png](images/strategyPattern4.png)